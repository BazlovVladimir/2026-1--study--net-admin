---
## Front matter
title: "Отчёт по лабораторной работе №1"
subtitle: "Знакомство с Cisco Packet Tracer"
author: "Владимир Базлов"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true
toc-depth: 2
lof: true
lot: true
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
    - spelling=modern
    - babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float}
  - \floatplacement{figure}{H}
---

# Цель работы

Установка инструмента моделирования конфигурации сети Cisco Packet Tracer, знакомство с его интерфейсом.

# Выполнение

## Построение простейшей сети в Cisco Packet Tracer

1. Создан новый проект в Cisco Packet Tracer.  
   В рабочем пространстве размещён концентратор **Hub-PT** и четыре оконечных устройства **PC-PT**.  
   Все компьютеры соединены с концентратором с помощью прямого медного кабеля, что формирует простейшую локальную сеть с топологией «звезда».

   ![Схема сети с концентратором и ПК](Screenshot_1.png){ #fig:001 width=80% }

2. На каждом компьютере вручную заданы статические IP-адреса в одной подсети.  
   Настройка выполнялась через вкладку **Config → FastEthernet0**.

   - PC0 — IP: 192.168.1.11, маска: 255.255.255.0  
   - PC1 — IP: 192.168.1.12, маска: 255.255.255.0  
   - PC2 — IP: 192.168.1.13, маска: 255.255.255.0  
   - PC3 — IP: 192.168.1.14, маска: 255.255.255.0  

   ![Настройка IP-адреса PC0](Screenshot_2.png){ #fig:002 width=80% }

   ![Настройка IP-адреса PC1](Screenshot_3.png){ #fig:003 width=80% }

   ![Настройка IP-адреса PC2](Screenshot_4.png){ #fig:004 width=80% }

   ![Настройка IP-адреса PC3](Screenshot_5.png){ #fig:005 width=80% }

3. Выполнен переход из режима **Realtime** в режим **Simulation**.  
   С помощью инструмента **Add Simple PDU** сформирован тестовый пакет: сначала выполнен щелчок по PC0, затем по PC2.  
   В рабочей области появились конверты, обозначающие передачу пакетов, а в списке событий — записи о передаче ARP и ICMP.

   ![Передача пакетов в режиме моделирования](Screenshot_6.png){ #fig:006 width=80% }

4. В процессе моделирования выполнено отслеживание движения пакетов между устройствами.  
   При выборе события открылось окно **PDU Information**, в котором отображается прохождение данных через уровни модели OSI.  
   На уровне канального слоя формируется Ethernet-кадр, содержащий MAC-адреса источника и получателя, а на сетевом уровне указываются IP-адреса отправителя и назначения.

   ![Окно информации о PDU и уровни OSI](Screenshot_7.png){ #fig:007 width=80% }

5. На вкладке **PDU Formats** исследована структура ICMP-пакета и Ethernet-кадра.

   ![Структура пакета ICMP и кадра Ethernet](Screenshot_8.png){ #fig:008 width=80% }

   **Структура кадра Ethernet включает:**
   - Преамбулу — используется для синхронизации передачи.
   - MAC-адрес получателя (Destination MAC).
   - MAC-адрес отправителя (Source MAC).
   - Поле типа (Type), определяющее протокол верхнего уровня.
   - Поле данных (Data), содержащее IP-пакет.
   - Контрольную сумму (FCS) для проверки целостности.

   **Тип кадра Ethernet:**  
   В поле Type указано значение `0x0800`, что соответствует протоколу IPv4.

   **Структура MAC-адреса:**  
   MAC-адрес состоит из 48 бит (6 байт) и записывается в шестнадцатеричном формате.  
   Первые 3 байта — идентификатор производителя сетевого устройства (OUI),  
   последние 3 байта — уникальный номер интерфейса.

   **Изменения при передвижении пакета:**  
   - При отправке формируется ARP-запрос для определения MAC-адреса получателя.  
   - В каждом передаваемом кадре изменяются MAC-адреса источника и назначения.  
   - IP-адреса остаются неизменными, так как они относятся к сетевому уровню.  
   - ICMP-пакет инкапсулируется внутрь IP-пакета, который затем помещается в Ethernet-кадр.

6. Очищен список событий путём удаления предыдущего сценария моделирования.  
   Снова выбран инструмент **Add Simple PDU**. Сначала сформирован пакет от PC0 к PC2, затем второй пакет — от PC2 к PC0. После запуска моделирования кнопкой **Play** зафиксировано одновременное распространение кадров по сети.

   ![Одновременная передача пакетов через концентратор](Screenshot_9.png){ #fig:009 width=80% }

   В процессе передачи произошло столкновение сигналов (коллизия), что отображается в рабочей области значками с огнём на линиях связи и у устройств.

   ![Возникновение коллизии в сети](Screenshot_10.png){ #fig:010 width=80% }

   В списке событий и окне информации о PDU показаны сведения о передаваемых пакетах и их структуре. При анализе заголовков видно, что кадры Ethernet содержат стандартные поля: MAC-адрес источника, MAC-адрес назначения, тип протокола и данные. Отдельного поля, указывающего на коллизию, в заголовке кадра нет — информация о столкновении определяется на физическом уровне по искажению сигнала.

   ![Информация о структуре пакета при передаче](Screenshot_11.png){ #fig:011 width=80% }

   **Причина возникновения коллизии:**  
   Концентратор работает на физическом уровне и передаёт сигнал сразу на все порты. Когда два компьютера (PC0 и PC2) начинают передачу одновременно, их сигналы распространяются по общей среде передачи и накладываются друг на друга. В результате происходит коллизия.

   **Как отображается коллизия:**  
   - В режиме моделирования она обозначается специальными значками на линии передачи.  
   - Передача кадров прерывается и выполняется повторная отправка.  
   - На уровне Ethernet кадры остаются стандартными по структуре, но из-за наложения сигналов происходит повреждение передаваемых данных.  
   - Сетевая карта обнаруживает конфликт и инициирует повторную передачу по алгоритму CSMA/CD.

7. Выполнен переход в режим **Realtime**. В рабочем пространстве размещён коммутатор **Cisco 2950-24** и четыре оконечных устройства PC. Все компьютеры соединены с коммутатором прямыми медными кабелями.

   ![Сеть с концентратором и коммутатором](Screenshot_12.png){ #fig:012 width=80% }

   На каждом ПК заданы статические IP-адреса:

   - PC4 — 192.168.1.21  
   - PC5 — 192.168.1.22  
   - PC6 — 192.168.1.23  
   - PC7 — 192.168.1.24  
   Маска подсети для всех устройств: 255.255.255.0.

   ![Настройка IP-адреса PC4](Screenshot_13.png){ #fig:013 width=80% }

   ![Настройка IP-адреса PC5](Screenshot_14.png){ #fig:014 width=80% }

   ![Настройка IP-адреса PC6](Screenshot_15.png){ #fig:015 width=80% }

   ![Настройка IP-адреса PC7](Screenshot_16.png){ #fig:016 width=80% }

8. Выполнен переход в режим **Simulation**. С помощью инструмента **Add Simple PDU** сформирован пакет от PC4 к PC6. В рабочей области появились конверты, а в списке событий — записи о передаче ARP и ICMP.

   ![Передача пакетов через коммутатор](Screenshot_17.png){ #fig:017 width=80% }

   После нажатия кнопки **Play** выполнено наблюдение за движением пакетов от PC4 к PC6 и обратно.

   **Отличия от сценария с концентратором:**
   - При использовании концентратора ARP-запрос распространяется на все устройства сети.
   - При использовании коммутатора широковещательный ARP-запрос сначала также отправляется всем, но после определения MAC-адреса получателя коммутатор запоминает соответствие порт–MAC.
   - Дальнейшая передача ICMP-пакетов выполняется только между двумя нужными портами, без рассылки на остальные устройства.

9. Исследована структура ICMP-пакета и Ethernet-кадра.

   ![Структура пакета при передаче через коммутатор](Screenshot_18.png){ #fig:018 width=80% }

   **Структура кадра Ethernet:**
   - Преамбула — синхронизация передачи.  
   - MAC-адрес получателя.  
   - MAC-адрес отправителя.  
   - Поле типа (Type).  
   - Поле данных (IP-пакет с ICMP).  
   - Контрольная сумма FCS.

   **Тип кадра Ethernet:**  
   Значение поля Type равно `0x0800`, что соответствует протоколу IPv4.

   **Структура MAC-адреса:**  
   MAC-адрес состоит из 6 байт. Первые 3 байта — идентификатор производителя, последние 3 байта — уникальный номер сетевого интерфейса.

   **Изменения при передаче пакета:**  
   При движении пакета между узлами изменяются только MAC-адреса источника и назначения в пределах локального сегмента. IP-адреса источника и получателя остаются неизменными.

10. Очищен список событий. Сформированы два пакета: от PC4 к PC6 и от PC6 к PC4. После запуска моделирования выполнено наблюдение за их одновременной передачей.

   ![Передача пакетов без коллизий через коммутатор](Screenshot_19.png){ #fig:019 width=80% }

   **Причина отсутствия коллизий:**  
   Коммутатор работает на канальном уровне и передаёт кадры только на тот порт, где находится устройство-получатель. Каждый порт образует отдельный домен коллизий. В отличие от концентратора, сигналы не распространяются на все устройства одновременно, поэтому одновременная передача данных не приводит к столкновениям.

11. Выполнен переход в режим **Realtime**. Концентратор и коммутатор соединены кроссовым кабелем. После этого выполнен переход в режим **Simulation**, очищен список событий и сформированы два пакета: от PC0 к PC4 и от PC4 к PC0. После запуска моделирования выполнено наблюдение за движением пакетов.

   ![Соединение концентратора и коммутатора](Screenshot_20.png){ #fig:020 width=80% }

   В начале передачи наблюдается коллизия в сегменте сети с концентратором.

   ![Возникновение коллизии при передаче](Screenshot_21.png){ #fig:021 width=80% }

   Затем пакеты успешно достигают узлов назначения.

   ![Успешная передача пакетов между сегментами](Screenshot_22.png){ #fig:022 width=80% }

   **Причина первоначальной коллизии:**  
   В сегменте с концентратором все устройства используют общую среду передачи. При одновременной отправке пакетов сигналы накладываются друг на друга, что приводит к коллизии. После обнаружения конфликта устройства выполняют повторную передачу. Коммутатор принимает кадры и передаёт их только на нужный порт, поэтому после повторной отправки пакеты успешно доходят до назначения.

12. Очищен список событий. После нажатия кнопки **Play** в списке событий появились служебные пакеты STP, передаваемые коммутатором.

   ![Структура пакета STP](Screenshot_23.png){ #fig:023 width=80% }

   **Структура кадра Ethernet в пакетах STP:**
   - Преамбула и ограничитель начала кадра.  
   - MAC-адрес источника.  
   - MAC-адрес назначения (групповой адрес для STP).  
   - Поле длины/типа.  
   - Поле данных, содержащее BPDU.  
   - Контрольная сумма FCS.

   **Тип кадра Ethernet:**  
   Используется формат IEEE 802.3 с LLC-заголовком. Кадр имеет служебный характер и предназначен для передачи BPDU.

   **Структура MAC-адресов:**  
   Адрес назначения — специальный групповой MAC-адрес, используемый протоколом STP для рассылки служебной информации. Адрес источника — MAC-адрес порта коммутатора. MAC-адрес состоит из 6 байт: первые 3 байта — идентификатор производителя, последние 3 — уникальный номер интерфейса.

13. Выполнен переход в режим **Realtime**. В рабочее пространство добавлен маршрутизатор и соединён с коммутатором прямым кабелем. На интерфейсе маршрутизатора задан статический IP-адрес 192.168.1.254 с маской 255.255.255.0 и активирован порт.

   ![Подключение маршрутизатора к коммутатору](Screenshot_24.png){ #fig:024 width=80% }

   ![Настройка IP-адреса маршрутизатора](Screenshot_25.png){ #fig:025 width=80% }

14. Выполнен переход в режим **Simulation**. Очищен список событий. Сформирован пакет от PC3 к маршрутизатору. После запуска моделирования выполнено наблюдение за передачей пакетов ARP, ICMP, STP и CDP.

   ![Передача пакетов к маршрутизатору](Screenshot_26.png){ #fig:026 width=80% }

   Исследована структура пакета CDP.

   ![Структура пакета CDP](Screenshot_27.png){ #fig:027 width=80% }

   **Структура кадра Ethernet в CDP:**
   - Преамбула.  
   - MAC-адрес назначения (групповой адрес Cisco).  
   - MAC-адрес источника.  
   - Поле длины.  
   - LLC/SNAP-заголовок.  
   - Поле данных с информацией CDP.  
   - Контрольная сумма.

   **Тип кадра Ethernet:**  
   Используется формат IEEE 802.3 с LLC и SNAP-заголовком, указывающим на протокол CDP.

   **Структура MAC-адресов:**  
   MAC-адрес назначения — специальный групповой адрес, используемый для обнаружения соседних устройств Cisco.  
   MAC-адрес источника — уникальный адрес интерфейса маршрутизатора или коммутатора.  
   Адрес состоит из 48 бит и делится на идентификатор производителя и уникальную часть устройства.

# Контрольные вопросы

1. **Дайте определение следующим понятиям: концентратор, коммутатор, маршрутизатор, шлюз (gateway). В каких случаях следует использовать тот или иной тип сетевого оборудования?**  

   **Концентратор (Hub)** — это устройство физического уровня модели OSI, предназначенное для объединения нескольких компьютеров в одну сеть. Он передаёт полученный сигнал сразу на все порты без анализа адресов. Используется в простых или учебных сетях, однако из-за коллизий и низкой эффективности практически вытеснен современными устройствами.

   **Коммутатор (Switch)** — устройство канального уровня, которое передаёт кадры только на тот порт, где находится получатель. Он использует таблицу MAC-адресов для определения направления передачи. Применяется для построения локальных сетей, так как уменьшает количество коллизий и повышает производительность.

   **Маршрутизатор (Router)** — устройство сетевого уровня, предназначенное для соединения разных сетей и передачи пакетов между ними на основе IP-адресов. Используется для выхода в другие подсети или в Интернет, а также для организации маршрутизации трафика.

   **Шлюз (Gateway)** — устройство или программный узел, обеспечивающий взаимодействие между сетями с разными протоколами или архитектурой. Часто роль шлюза выполняет маршрутизатор, который является точкой выхода из локальной сети во внешнюю сеть.

2. **Дайте определение следующим понятиям: IP-адрес, сетевая маска, broadcast-адрес.**  

   **IP-адрес** — это уникальный логический адрес устройства в сети, используемый для его идентификации и передачи данных. В IPv4 он состоит из 32 бит и обычно записывается в виде четырёх чисел, разделённых точками (например, 192.168.1.1).

   **Сетевая маска** — это значение, определяющее, какая часть IP-адреса относится к сети, а какая — к узлу. Она используется для определения принадлежности устройств к одной подсети (например, 255.255.255.0).

   **Broadcast-адрес** — это специальный адрес, предназначенный для отправки пакета сразу всем устройствам в сети. Он формируется путём установки всех битов части адреса узла в значение 1 (например, для сети 192.168.1.0/24 широковещательный адрес — 192.168.1.255).

3. **Как можно проверить доступность узла сети?**  

   Доступность узла проверяется с помощью команды `ping`, которая отправляет ICMP-запрос (echo request) на указанный IP-адрес и ожидает ответ (echo reply). Если ответы приходят, значит устройство доступно и соединение установлено.  

   Также для диагностики могут использоваться:  
   - `tracert` (или `traceroute`) — определяет маршрут прохождения пакетов до узла;  
   - проверка таблицы ARP — показывает, был ли получен MAC-адрес устройства;  
   - попытка подключения к сетевым службам (например, по SSH или HTTP).

# Заключение

В ходе работы была изучена базовая организация локальной сети в Cisco Packet Tracer. Выполнено построение сети с использованием концентратора и коммутатора, произведена настройка статических IP-адресов на оконечных устройствах и исследован процесс передачи данных между узлами.
В режиме моделирования были рассмотрены особенности работы протоколов ARP, ICMP, STP и CDP, а также изучена структура кадров Ethernet и инкапсуляция данных при передаче по сети. Проведён анализ возникновения коллизий при использовании концентратора и показано их отсутствие при работе через коммутатор. Дополнительно выполнено подключение маршрутизатора и настройка его сетевого интерфейса.
Полученные результаты позволили на практике понять различия между сетевыми устройствами разных уровней, принципы адресации в локальной сети и особенности прохождения пакетов между узлами. Приобретённые навыки могут быть использованы для дальнейшего изучения сетевых технологий и построения более сложных сетевых топологий.
